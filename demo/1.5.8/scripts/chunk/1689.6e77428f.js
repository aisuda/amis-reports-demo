/*! For license information please see 1689.6e77428f.js.LICENSE.txt */
"use strict";(self.webpackChunkamis_reports_demo=self.webpackChunkamis_reports_demo||[]).push([[1689],{"./node_modules/amis-ui/esm/components/PdfViewer.js":function(e,n,t){t.r(n),t.d(n,{default:function(){return u}});var a=t("./node_modules/tslib/tslib.es6.mjs"),o=t("./node_modules/react/index.js"),r=t("./node_modules/amis-core/esm/index.js"),s=t("react-pdf"),c=t("./node_modules/amis-ui/esm/components/icons.js"),i=t("./node_modules/amis-ui/esm/components/Input.js"),l=t("./node_modules/amis-ui/esm/components/Spinner.js"),u=(0,r.themeable)((function(e){var n=e.pdfjsWorkerSrc,t=e.classnames,r=e.className,u=e.loading,m=e.width,d=void 0===m?300:m,f=(0,a.__read)(o.useState(e.file),2),p=f[0],_=f[1],E=(0,a.__read)(o.useState(!1),2),g=E[0],v=E[1],N=(0,a.__read)(o.useState(1),2),k=N[0],h=N[1],w=(0,a.__read)(o.useState(1),2),j=w[0],P=w[1],S=(0,a.__read)(o.useState(1),2),b=S[0],C=S[1],L=o.useRef();function V(e){var n=k+e;n<=0||n>b||h(n)}function I(e){P(j*e)}function x(){return o.createElement("div",{className:t("PdfViewer-Loading")},o.createElement(l.default,null))}return o.useEffect((function(){n&&(s.pdfjs.GlobalWorkerOptions.workerSrc=n)}),[e.pdfjsWorkerSrc]),o.useEffect((function(){e.file instanceof ArrayBuffer&&e.file.byteLength>0?_(e.file):_(void 0)}),[e.file]),o.createElement("div",{className:t(r,"PdfViewer")},!p||u?x():o.createElement(o.Fragment,null,o.createElement("div",{className:t("PdfViewer-Content",{"is-loaded":g})},o.createElement(s.Document,{file:p,onLoadSuccess:function(e){var n=e.numPages;v(!0),C(n)},onLoadError:function(e){return console.log(e)},loading:x()},o.createElement(s.Page,{className:t("PdfViewer-Content-Page"),pageNumber:k,width:d,height:e.height,loading:x(),noData:o.createElement("div",null,"No PDF data"),scale:j,renderTextLayer:!1,renderAnnotationLayer:!1}))),g?o.createElement("div",{className:t("PdfViewer-Tool")},o.createElement(c.Icon,{className:"icon",icon:"prev",onClick:function(){return V(-1)}}),o.createElement(i.default,{className:"page-input",value:k,onBlur:function(e){var n=+e.target.value;isNaN(n)||n<=0||n>b?L.current&&(L.current.value=k+""):h(n)},ref:L}),o.createElement("span",{className:"gap"},"/"),o.createElement("span",null,b),o.createElement(c.Icon,{className:"icon",icon:"next",onClick:function(){return V(1)}}),o.createElement(c.Icon,{className:"icon",icon:"zoom-in",onClick:function(){return I(1.2)}}),o.createElement(c.Icon,{className:"icon",icon:"zoom-out",onClick:function(){return I(.8)}})):null))}))}}]);